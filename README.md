# 🚀 Rust + Svelte 5 + Internet Computer Template

A modern, production-ready template for building full-stack decentralized applications on the Internet Computer with Rust backend and Svelte 5 frontend.

## ✨ Features

- **🦀 Rust Backend**: Type-safe canister development with latest Rust features
- **⚡ Svelte 5**: Latest Svelte with runes, improved reactivity, and performance
- **🌐 Internet Computer**: Decentralized hosting and computation
- **🔑 Internet Identity**: Built-in authentication system
- **📦 Modern Tooling**: Vite 6, TypeScript, SCSS support
- **🧪 Testing**: Vitest + Testing Library setup
- **🎨 UI Components**: Custom components with modern styling
- **📱 Responsive Design**: Mobile-first approach

## 🛠️ Tech Stack

### Frontend
- **Svelte**: `5.35.5` - Latest stable with runes and modern features
- **SvelteKit**: `2.21.0` - Full-stack framework with SSR
- **Vite**: `6.0.1` - Next-generation build tool
- **TypeScript**: `5.6.3` - Type safety and modern JS features
- **Vitest**: `2.1.1` - Fast unit testing
- **SCSS**: Built-in styling with autoprefixer

### Backend
- **Rust**: Latest stable with IC CDK
- **IC CDK**: Internet Computer development kit
- **Candid**: Interface description language

### Development
- **DFX**: `0.24.2+` - Internet Computer SDK
- **Node.js**: `18+` - JavaScript runtime
- **npm**: `9+` - Package manager

## 🚀 Quick Start

### Prerequisites

1. **Install DFX (Internet Computer SDK)**
   ```bash
   sh -ci "$(curl -fsSL https://internetcomputer.org/install.sh)"
   ```

2. **Install Node.js 18+**
   ```bash
   # Using nvm (recommended)
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
   nvm install 18
   nvm use 18
   ```

3. **Install Rust**
   ```bash
   curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
   ```

### Installation

1. **Clone this template**
   ```bash
   git clone <your-repo-url> my-ic-app
   cd my-ic-app
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Start local IC replica**
   ```bash
   dfx start --background
   ```

4. **Deploy canisters locally**
   ```bash
   dfx deploy
   ```

5. **Start development server**
   ```bash
   npm run dev
   ```

Your app will be available at `http://localhost:5173`

## 📁 Project Structure

```
├── src/
│   ├── backend/                 # Rust backend canister
│   │   ├── src/
│   │   │   └── lib.rs          # Main canister logic
│   │   └── Cargo.toml          # Rust dependencies
│   └── frontend/               # Svelte 5 frontend
│       ├── src/
│       │   ├── lib/
│       │   │   ├── components/ # Reusable UI components
│       │   │   │   └── ui/     # Base UI components
│       │   │   ├── types/      # TypeScript type definitions
│       │   │   ├── agent.ts    # IC agent setup
│       │   │   ├── api.ts      # Backend API calls
│       │   │   └── const.ts    # Environment constants
│       │   ├── routes/         # SvelteKit routes
│       │   └── app.html        # HTML template
│       ├── static/             # Static assets
│       └── package.json        # Frontend dependencies
├── dfx.json                    # IC project configuration
├── canister_ids.json          # Local canister IDs
├── vite.config.ts             # Vite configuration
└── svelte.config.js           # Svelte configuration
```

## 🔧 Development

### Available Scripts

```bash
# Development
npm run dev              # Start dev server with HMR
npm run build           # Build for production
npm run preview         # Preview production build

# Code Quality
npm run check           # Type checking with svelte-check
npm run check:watch     # Type checking in watch mode
npm test               # Run unit tests
npm test:watch         # Run tests in watch mode

# IC Development
dfx start              # Start local IC replica
dfx deploy             # Deploy all canisters
dfx deploy backend     # Deploy only backend
dfx deploy frontend    # Deploy only frontend
dfx stop               # Stop local IC replica
```

### Environment Variables

The project uses Vite's environment variable system. Create a `.env` file:

```bash
# Auto-generated by dfx
VITE_CANISTER_ID_BACKEND=your-backend-canister-id
VITE_CANISTER_ID_II=your-internet-identity-canister-id
VITE_DFX_NETWORK=local
```

## 🏗️ Backend Development

The Rust backend is located in `src/backend/`. Key files:

- `src/lib.rs` - Main canister implementation
- `Cargo.toml` - Dependencies and metadata
- `backend.did` - Candid interface (auto-generated)

Example backend function:
```rust
#[ic_cdk::update]
fn set_principal_data(value: String) {
    // Your implementation
}

#[ic_cdk::query]
fn get_principal_data() -> Result<String, String> {
    // Your implementation
}
```

## 🎨 Frontend Development

The Svelte 5 frontend uses modern features:

### Runes (Svelte 5)
```svelte
<script>
  let count = $state(0);
  let doubled = $derived(count * 2);
  
  function increment() {
    count++;
  }
</script>

<button onclick={increment}>
  Count: {count} (doubled: {doubled})
</button>
```

### Custom Components
Pre-built UI components in `src/frontend/src/lib/components/ui/`:
- `Card.svelte` - Container component
- `Input.svelte` - Form input with validation
- `Tag.svelte` - Status and label tags
- `IconCheck.svelte` - SVG icons

### API Integration
```typescript
import { get, set } from '$lib/api';

// Call backend functions
const data = await get();
await set("new value");
```

## 🧪 Testing

The template includes a complete testing setup:

```typescript
// Component test example
import { render, screen } from '@testing-library/svelte';
import { expect, test } from 'vitest';
import Card from '$lib/components/Card.svelte';

test('renders card with content', () => {
  render(Card, { 
    props: { 
      principal: 'test-principal',
      string: 'test content' 
    }
  });
  
  expect(screen.getByText('test content')).toBeInTheDocument();
});
```

## 🚀 Deployment

### Local Deployment
```bash
dfx deploy
```

### IC Mainnet Deployment
```bash
dfx deploy --network ic
```

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📚 Resources

- [Internet Computer Documentation](https://internetcomputer.org/docs)
- [Svelte 5 Documentation](https://svelte.dev/docs)
- [SvelteKit Documentation](https://kit.svelte.dev/docs)
- [Rust IC CDK](https://docs.rs/ic-cdk)
- [DFX CLI Reference](https://internetcomputer.org/docs/current/references/cli-reference/dfx-parent)

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- [DFINITY Foundation](https://dfinity.org/) for the Internet Computer
- [Svelte Team](https://svelte.dev/) for the amazing framework
- [Rust Community](https://www.rust-lang.org/) for the robust language

---

**Happy building! 🚀**

*Made with ❤️ for the decentralized web*

